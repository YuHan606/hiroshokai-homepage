<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ãŠå•ã„åˆã‚ã› - åºƒæ˜Œä¼šå”åŒçµ„åˆ</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      line-height: 1.6;
      color: #333;
      background: #f5f5f5;
    }

     header {
       background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(240,248,255,0.95) 100%);
       padding: 0;
       box-shadow: 0 8px 32px rgba(0,0,0,0.1);
       backdrop-filter: blur(20px);
       border-bottom: 1px solid rgba(255,255,255,0.2);
       position: sticky;
       top: 0;
       z-index: 1000;
     }
     
     .header-content {
       display: flex;
       align-items: center;
       justify-content: space-between;
       max-width: 1200px;
       margin: 0 auto;
       padding: 20px 20px 10px 20px;
     }
     
     header h1 {
       text-align: left;
       margin: 0;
       color: #2c3e50;
       font-size: 2.8rem;
       font-weight: 700;
       text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
       background: linear-gradient(135deg, #191970, #191970);
       -webkit-background-clip: text;
       -webkit-text-fill-color: transparent;
       background-clip: text;
       flex: 1;
     }
     
     .search-container {
       display: flex;
       align-items: center;
       gap: 10px;
     }
     
     .search-box {
       position: relative;
       display: flex;
       align-items: center;
     }
     
     .search-input {
       padding: 10px 40px 10px 15px;
       border: 2px solid #191970;
       border-radius: 25px;
       font-size: 0.9rem;
       width: 200px;
       outline: none;
       transition: all 0.3s ease;
       background: rgba(255,255,255,0.9);
       backdrop-filter: blur(10px);
     }
     
     .search-input:focus {
       width: 250px;
       box-shadow: 0 4px 15px rgba(25,25,112,0.3);
       background: white;
     }
     
     .search-btn {
       position: absolute;
       right: 5px;
       background: #191970;
       border: none;
       padding: 8px 12px;
       border-radius: 20px;
       cursor: pointer;
       color: white;
       transition: all 0.3s ease;
     }
     
     .search-btn:hover {
       background: #667eea;
       transform: scale(1.05);
     }
     
     .search-label {
       font-size: 0.85rem;
       color: #191970;
       font-weight: 600;
       white-space: nowrap;
     }
     
     nav {
       background: linear-gradient(90deg, #191970 0%, #191970 30%, #191970 80%);
       padding: 0;
       box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
       position: relative;
     }
     
     nav ul {
       list-style: none;
       padding: 0;
       margin: 0;
       display: flex;
       justify-content: center;
       align-items: stretch;
       min-height: 60px;
       max-width: 1200px;
       margin: 0 auto;
     }
     
     nav li {
       flex: 1;
       text-align: center;
       border-right: 1px solid rgba(255,255,255,0.2);
       position: relative;
       overflow: visible;
       display: flex;
       align-items: center;
     }
     
     nav li:last-child {
       border-right: none;
     }
     
     nav a {
       display: block;
       text-decoration: none;
       color: white;
       font-weight: 600;
       padding: 18px 20px;
       transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
       position: relative;
       z-index: 2;
       font-size: 0.95rem;
       letter-spacing: 0.5px;
       text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
       width: 100%;
       box-sizing: border-box;
     }
     
     nav a:hover {
       color: #191970;
       background: rgba(255,255,255,0.95);
       transform: translateY(-2px);
       box-shadow: 0 4px 15px rgba(0,0,0,0.2);
     }

    .dropdown {
      position: relative;
    }
    
    .dropdown-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      color: white;
      font-weight: 600;
      padding: 18px 20px;
      transition: all 0.3s ease;
      font-size: 0.95rem;
      letter-spacing: 0.5px;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
      width: 100%;
      box-sizing: border-box;
      cursor: pointer;
      background: none;
      border: none;
      outline: none;
      font-family: inherit;
      height: 100%;
      min-height: 60px;
    }
    
    .dropdown-btn::after {
      content: 'â–¼';
      font-size: 0.7rem;
      transition: transform 0.3s ease;
      margin-left: 5px;
    }
    
    .dropdown.active .dropdown-btn::after {
      transform: rotate(180deg);
    }
    
    .dropdown-btn:hover {
      color: #1A237E;
      background: rgba(255,255,255,0.95);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    
    .dropdown-menu {
      position: absolute;
      top: 100%;
      left: -100%;
      width: calc(400% + 3px);
      background: linear-gradient(135deg, rgba(255,255,255,0.98) 0%, rgba(240,248,255,0.98) 100%);
      backdrop-filter: blur(20px);
      box-shadow: 0 8px 32px rgba(0,0,0,0.15);
      border-radius: 0 0 15px 15px;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s ease;
      z-index: 1000;
      border: 1px solid rgba(255,255,255,0.3);
      border-top: none;
      overflow: hidden;
    }
    
    .dropdown.active .dropdown-menu {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }
    
    .dropdown-content {
      display: flex;
      flex-direction: row;
      padding: 0;
      gap: 0;
      height: 60px;
    }
    
    .dropdown-item {
      flex: 1;
      border-right: 1px solid rgba(26, 35, 126, 0.2);
      display: flex;
      align-items: center;
    }
    
    .dropdown-item:last-child {
      border-right: none;
    }
    
    .dropdown-item a {
      display: flex;
      align-items: center;
      justify-content: center;
      color: #1A237E;
      text-decoration: none;
      padding: 18px 15px;
      font-weight: 600;
      font-size: 0.95rem;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      white-space: nowrap;
      text-align: center;
      width: 100%;
      height: 100%;
      letter-spacing: 0.5px;
      text-shadow: none;
    }
    
    .dropdown-item a:hover {
      background: linear-gradient(135deg, #1A237E 0%, #667eea 100%);
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(26, 35, 126, 0.3);
      text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
    }

    section {
      max-width: 800px;
      margin: 40px auto;
      padding: 0 20px;
    }

    .contact-container {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 30px;
      padding: 60px 50px;
      box-shadow: 
        0 25px 50px rgba(0, 0, 0, 0.15),
        0 0 0 1px rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }

    .contact-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, #191970, #191970, #ff6b6b, #4ecdc4);
      background-size: 300% 100%;
      animation: gradientShift 8s ease infinite;
    }

    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    h2 {
      color: #2c3e50;
      font-size: 2.8rem;
      font-weight: 800;
      text-align: center;
      margin-bottom: 20px;
      background: linear-gradient(135deg, #191970, #191970);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .subtitle {
      text-align: center;
      font-size: 1.2rem;
      color: #666;
      margin-bottom: 50px;
      line-height: 1.6;
    }

    .contact-form {
      display: grid;
      gap: 30px;
    }

    .form-group {
      position: relative;
    }

    .form-group label {
      display: block;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 10px;
      font-size: 1.1rem;
    }

    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 18px 25px;
      border: 2px solid #e0e6ed;
      border-radius: 15px;
      font-size: 1rem;
      font-family: inherit;
      background: rgba(255, 255, 255, 0.8);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      backdrop-filter: blur(5px);
    }

    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #191970;
      background: rgba(255, 255, 255, 0.95);
      box-shadow: 
        0 0 0 4px rgba(102, 126, 234, 0.1),
        0 10px 25px rgba(0, 0, 0, 0.1);
      transform: translateY(-2px);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 120px;
      font-family: inherit;
    }

    .form-group input::placeholder,
    .form-group textarea::placeholder {
      color: #a0a6b0;
    }

    .submit-btn {
      background: linear-gradient(135deg, #191970 0%, #191970 80%);
      color: white;
      border: none;
      padding: 20px 50px;
      border-radius: 50px;
      font-size: 1.2rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      margin: 20px auto 0;
      display: block;
      min-width: 200px;
      box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
    }

    .submit-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.6s ease;
    }

    .submit-btn:hover::before {
      left: 100%;
    }

    .submit-btn:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
    }

    .submit-btn:active {
      transform: translateY(-1px) scale(1.02);
    }

    .contact-info {
      margin-top: 50px;
      padding-top: 40px;
      border-top: 2px solid #e0e6ed;
      text-align: center;
    }

    .contact-info h3 {
      color: #2c3e50;
      font-size: 1.5rem;
      margin-bottom: 20px;
      font-weight: 700;
    }

    .contact-info p {
      color: #666;
      font-size: 1.1rem;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .contact-info .icon {
      width: 20px;
      height: 20px;
      background: linear-gradient(135deg, #191970, #191970);
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 0.8rem;
      font-weight: bold;
    }

    .service-notice {
      background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
      border: 1px solid #191970;
      border-radius: 15px;
      padding: 20px;
      margin: 30px 0;
      text-align: center;
    }

    .service-notice h4 {
      color: #191970;
      font-size: 1.2rem;
      margin-bottom: 10px;
    }

    .service-notice p {
      color: #666;
      font-size: 0.95rem;
      line-height: 1.5;
    }

    .debug-info {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 10px;
      padding: 15px;
      margin: 20px 0;
      font-family: monospace;
      font-size: 0.9rem;
      color: #495057;
    }

    .debug-info h4 {
      color: #dc3545;
      margin-bottom: 10px;
      font-family: Arial, sans-serif;
    }

    footer {
      text-align: center;
      padding: 40px 20px;
      background: #191970;
      backdrop-filter: blur(10px);
      color: rgba(255, 255, 255, 0.8);
      margin-top: 60px;
      font-size: 1rem;
    }

    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 768px) {
      header h1 {
        font-size: 2rem;
      }

      nav ul {
        flex-wrap: wrap;
        height: auto;
        padding: 10px;
      }

      nav li {
        flex: none;
        margin: 5px;
      }

      .contact-container {
        padding: 40px 30px;
        margin: 20px;
      }

      h2 {
        font-size: 2.2rem;
      }

      .form-group input,
      .form-group textarea {
        padding: 15px 20px;
      }
    }
  </style>
</head>
<body>
<header>
  <div class="header-content">
    <h1>åºƒæ˜Œä¼šå”åŒçµ„åˆ</h1>
    <div class="search-container">
      <span class="search-label">ã‚µã‚¤ãƒˆå†…æ¤œç´¢</span>
      <div class="search-box">
        <input type="text" class="search-input" placeholder="ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›..." id="searchInput">
        <button class="search-btn" type="button" id="searchBtn">ğŸ”</button>
      </div>
    </div>
  </div>
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li class="dropdown">
        <button class="dropdown-btn" type="button">å°‚é–€å®¶ã‚’æ¢ã™</button>
        <div class="dropdown-menu">
          <div class="dropdown-content">
            <div class="dropdown-item">
              <a href="overview.html">ç›£ç†å›£ä½“</a>
            </div>
            <div class="dropdown-item">
              <a href="sending.html">é€ã‚Šå‡ºã—ç´¹ä»‹</a>
            </div>
            <div class="dropdown-item">
              <a href="training.html">ç ”ä¿®ã‚»ãƒ³ã‚¿ãƒ¼ç´¹ä»‹</a>
            </div>
            <div class="dropdown-item">
              <a href="mitumori.html">ä¸€æ‹¬è¦‹ç©ã‚µãƒ¼ãƒ“ã‚¹</a>
            </div>
          </div>
        </div>
      </li>
      <li><a href="ukeire.html">å¤–å›½äººå—ã‘å…¥ã‚Œ</a></li>
      <li><a href="jinzai.html">äººææƒ…å ±ã‚’è¦‹ã‚‹</a></li>
      
      <li class="dropdown">
        <button class="dropdown-btn" type="button">å¤–å›½äººé›‡ç”¨ã‚’çŸ¥ã‚‹</button>
        <div class="dropdown-menu">
          <div class="dropdown-content">
            <div class="dropdown-item">
              <a href="ginou.html">æŠ€èƒ½å®Ÿç¿’</a>
            </div>
            <div class="dropdown-item">
              <a href="tokutei.html">ç‰¹å®šæŠ€èƒ½</a>
            </div>
            <div class="dropdown-item">
              <a href="qa.html">é›‡ç”¨Qï¼†Aä¸€è¦§</a>
            </div>
          </div>
        </div>
      </li>

      <li><a href="contact.html">ãŠå•ã„åˆã‚ã›</a></li>
    </ul>
  </nav>
</header>

<section>
  <div class="contact-container">
    <h2>ãŠå•ã„åˆã‚ã›</h2>
    <p class="subtitle">ç‰¹å®šæŠ€èƒ½å¤–å›½äººã®é›‡ç”¨ã‚’ãŠè€ƒãˆãªã‚‰ã€ã¾ãšã¯ãŠå•ã„åˆã‚ã›ãã ã•ã„ï¼<br>
    ãŠå®¢æ§˜ã®ã”è³ªå•ã‚„ã”ç›¸è«‡ã«ã€å°‚é–€ã‚¹ã‚¿ãƒƒãƒ•ãŒä¸å¯§ã«ãŠç­”ãˆã„ãŸã—ã¾ã™ã€‚</p>
    
    <div class="service-notice">
      <h4>ğŸ“§ ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚µãƒ¼ãƒ“ã‚¹</h4>
      <p>ã“ã®ãƒ•ã‚©ãƒ¼ãƒ ã‹ã‚‰ãŠé€ã‚Šã„ãŸã ã„ãŸå†…å®¹ã¯ã€EmailJSã‚µãƒ¼ãƒ“ã‚¹ã‚’é€šã˜ã¦ç›´æ¥æ‹…å½“è€…ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«é€ä¿¡ã•ã‚Œã¾ã™ã€‚<br>
      ãŠå®¢æ§˜ã®å€‹äººæƒ…å ±ã¯å®‰å…¨ã«ä¿è­·ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
    </div>

    <div class="debug-info">
      <h4>ğŸ› ãƒ‡ãƒãƒƒã‚°æƒ…å ±</h4>
      <div id="debugLog">EmailJSã®åˆæœŸåŒ–ã‚’ç¢ºèªä¸­...</div>
    </div>
    
    <form id="contactForm" class="contact-form">
      <div class="form-group">
        <label for="name">ãŠåå‰ *</label>
        <input type="text" id="name" name="name" placeholder="å±±ç”° å¤ªéƒ" required>
      </div>
      
      <div class="form-group">
        <label for="email">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ *</label>
        <input type="email" id="email" name="email" placeholder="example@company.co.jp" required>
      </div>
      
      <div class="form-group">
        <label for="company">ä¼šç¤¾å</label>
        <input type="text" id="company" name="company" placeholder="æ ªå¼ä¼šç¤¾â—‹â—‹">
      </div>
      
      <div class="form-group">
        <label for="phone">é›»è©±ç•ªå·</label>
        <input type="tel" id="phone" name="phone" placeholder="03-1234-5678">
      </div>
      
      <div class="form-group">
        <label for="message">ãŠå•ã„åˆã‚ã›å†…å®¹ *</label>
        <textarea id="message" name="message" placeholder="ç‰¹å®šæŠ€èƒ½å¤–å›½äººã®é›‡ç”¨ã«ã¤ã„ã¦è©³ã—ãçŸ¥ã‚ŠãŸã„ã§ã™ã€‚ã©ã®ã‚ˆã†ãªæ‰‹ç¶šããŒå¿…è¦ã§ã—ã‚‡ã†ã‹ï¼Ÿ" required></textarea>
      </div>
      
      <button type="submit" class="submit-btn" id="submitBtn">
        é€ä¿¡ã™ã‚‹
      </button>
    </form>

    <div class="contact-info">
      <h3>ãã®ä»–ã®ãŠå•ã„åˆã‚ã›æ–¹æ³•</h3>
      <p><span class="icon">ğŸ“</span> é›»è©±: 03-1234-5678</p>
      <p><span class="icon">ğŸ“§</span> ãƒ¡ãƒ¼ãƒ«: reirei.ou@outlook.jp</p>
      <p><span class="icon">ğŸ•’</span> å—ä»˜æ™‚é–“: å¹³æ—¥ 9:00-18:00</p>
    </div>
  </div>
</section>

<footer>
  <p>&copy; 2025 åºƒæ˜Œä¼šå”åŒçµ„åˆ - ã‚ãªãŸã®å›½éš›äººæãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼</p>
</footer>

<!-- EmailJS SDK -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const debugLog = document.getElementById('debugLog');
  
  function addDebugLog(message, type = 'info') {
    const timestamp = new Date().toLocaleTimeString();
    const logEntry = `[${timestamp}] ${message}`;
    console.log(logEntry);
    debugLog.innerHTML += `<div style="color: ${type === 'error' ? 'red' : type === 'success' ? 'green' : 'blue'}">${logEntry}</div>`;
    debugLog.scrollTop = debugLog.scrollHeight;
  }
  
  // æ£€æŸ¥EmailJSæ˜¯å¦åŠ è½½
  if (typeof emailjs === 'undefined') {
    addDebugLog('âŒ EmailJS library not loaded', 'error');
    return;
  }
  
  addDebugLog('âœ… EmailJS library loaded successfully');
  
  // åˆå§‹åŒ–EmailJS - è¯·æ›¿æ¢ä¸ºä½ çš„Public Key
  const publicKey = "G5-OSySdEYtSnWLKX"; // ä½ çš„Public Key
  const serviceId = "service_24fa3sc"; // ä½ çš„Service ID
  const templateId = "template_yp3a0ac"; // ä½ çš„Template ID
  
  addDebugLog(`åˆå§‹åŒ–EmailJS with Public Key: ${publicKey}`);
  addDebugLog(`Service ID: ${serviceId}`);
  addDebugLog(`Template ID: ${templateId}`);
  
  try {
    emailjs.init(publicKey);
    addDebugLog('âœ… EmailJS initialized successfully');
  } catch (error) {
    addDebugLog(`âŒ EmailJS initialization failed: ${error.message}`, 'error');
  }
  
  // æœç´¢åŠŸèƒ½
  const searchInput = document.getElementById('searchInput');
  const searchBtn = document.getElementById('searchBtn');
  
  function performSearch() {
    const query = searchInput.value.trim();
    if (query) {
      if (query.includes('æŠ€èƒ½å®Ÿç¿’') || query.includes('æŠ€èƒ½')) {
        window.location.href = 'ginou.html';
      } else if (query.includes('ç‰¹å®šæŠ€èƒ½') || query.includes('ç‰¹å®š')) {
        window.location.href = 'tokutei.html';
      } else if (query.includes('Q&A') || query.includes('è³ªå•') || query.includes('qa')) {
        window.location.href = 'qa.html';
      } else if (query.includes('é€ã‚Šå‡ºã—') || query.includes('ãŠãã‚Šã ã—') || query.includes('é€ã‚Š')) {
        window.location.href = 'sending.html';
      } else if (query.includes('training') || query.includes('ç ”ä¿®') || query.includes('ç ”ä¿®æ©Ÿé–¢')) {
        window.location.href = 'training.html';  
      } else if (query.includes('è¦‹ç©ã‚µãƒ¼ãƒ“ã‚¹') || query.includes('è¦‹ç©') || query.includes('ã¿ã¤ã‚‚ã‚Š')) {
        window.location.href = 'mitumori.html';   
      } else if (query.includes('ç›£ç†') || query.includes('ã‹ã‚“ã‚Š') || query.includes('ç›£ç†å›£ä½“')) {
        window.location.href = 'overview.html';   
      } else {
        window.location.href = 'contact.html';
      }  
    } else {
      alert('æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
    }
  }
  
  if (searchBtn && searchInput) {
    searchBtn.addEventListener('click', performSearch);
    
    searchInput.addEventListener('keydown', function(e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        performSearch();
      }
    });
  }
  
  // ä¸‹æ‹‰èœå•åŠŸèƒ½
  const dropdowns = document.querySelectorAll('.dropdown');
  
  dropdowns.forEach(dropdown => {
    const dropdownBtn = dropdown.querySelector('.dropdown-btn');
    
    if (dropdown && dropdownBtn) {
      dropdownBtn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        
        dropdowns.forEach(otherDropdown => {
          if (otherDropdown !== dropdown) {
            otherDropdown.classList.remove('active');
          }
        });
        
        dropdown.classList.toggle('active');
      });
      
      const dropdownLinks = dropdown.querySelectorAll('.dropdown-item a');
      dropdownLinks.forEach(link => {
        link.addEventListener('click', function() {
          dropdown.classList.remove('active');
        });
      });
      
      dropdownBtn.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          dropdown.classList.toggle('active');
        } else if (e.key === 'ArrowDown' && dropdown.classList.contains('active')) {
          e.preventDefault();
          const firstLink = dropdown.querySelector('.dropdown-item a');
          if (firstLink) firstLink.focus();
        }
      });
      
      dropdownLinks.forEach((link, index) => {
        link.addEventListener('keydown', function(e) {
          if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
            e.preventDefault();
            const nextLink = dropdownLinks[index + 1];
            if (nextLink) {
              nextLink.focus();
            } else {
              dropdownLinks[0].focus();
            }
          } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
            e.preventDefault();
            const prevLink = dropdownLinks[index - 1];
            if (prevLink) {
              prevLink.focus();
            } else {
              dropdownLinks[dropdownLinks.length - 1].focus();
            }
          } else if (e.key === 'Escape') {
            dropdown.classList.remove('active');
            dropdownBtn.focus();
          }
        });
      });
    }
  });
  
  // ç‚¹å‡»é¡µé¢å…¶ä»–åœ°æ–¹å…³é—­æ‰€æœ‰ä¸‹æ‹‰èœå•
  document.addEventListener('click', function(e) {
    dropdowns.forEach(dropdown => {
      if (!dropdown.contains(e.target)) {
        dropdown.classList.remove('active');
      }
    });
  });
  
  // ESCé”®å…³é—­æ‰€æœ‰ä¸‹æ‹‰èœå•
  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
      dropdowns.forEach(dropdown => {
        if (dropdown.classList.contains('active')) {
          dropdown.classList.remove('active');
          dropdown.querySelector('.dropdown-btn').focus();
        }
      });
    }
  });

  // è¡¨å•æäº¤å¤„ç†
  const contactForm = document.getElementById('contactForm');
  const submitBtn = document.getElementById('submitBtn');
  
  contactForm.addEventListener('submit', function(event) {
    event.preventDefault();
    
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const message = document.getElementById('message').value;
    
    if (!name || !email || !message) {
      addDebugLog('âŒ å¿…é ˆé …ç›®ãŒæœªå…¥åŠ›ã§ã™', 'error');
      alert('å¿…é ˆé …ç›®ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
      return;
    }
    
    addDebugLog('ğŸ“ ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›å€¤ã‚’ç¢ºèªä¸­...');
    addDebugLog(`åå‰: ${name}`);
    addDebugLog(`ãƒ¡ãƒ¼ãƒ«: ${email}`);
    addDebugLog(`ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸: ${message.substring(0, 50)}...`);
    
    // é€ä¿¡ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹å¤‰æ›´
    submitBtn.innerHTML = 'é€ä¿¡ä¸­...';
    submitBtn.style.background = 'linear-gradient(135deg, #4ecdc4, #45b7d1)';
    submitBtn.disabled = true;
    
    addDebugLog('ğŸ“¤ ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã‚’é–‹å§‹...');
    
    // ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æº–å‚™
    const templateParams = {
      to_email: 'reirei.ou@outlook.jp',
      from_name: name,
      from_email: email,
      company: document.getElementById('company').value || 'æœªè¨˜å…¥',
      phone: document.getElementById('phone').value || 'æœªè¨˜å…¥',
      message: message,
      reply_to: email
    };
    
    addDebugLog('ğŸ“‹ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:');
    addDebugLog(JSON.stringify(templateParams, null, 2));
    
    // EmailJSé€ä¿¡
    emailjs.send(serviceId, templateId, templateParams)
      .then(function(response) {
        addDebugLog('âœ… ãƒ¡ãƒ¼ãƒ«é€ä¿¡æˆåŠŸ!', 'success');
        addDebugLog(`Response Status: ${response.status}`, 'success');
        addDebugLog(`Response Text: ${response.text}`, 'success');
        
        submitBtn.innerHTML = 'é€ä¿¡å®Œäº†ï¼';
        submitBtn.style.background = 'linear-gradient(135deg, #55a3ff, #003d82)';
        
        setTimeout(() => {
          alert('ãŠå•ã„åˆã‚ã›ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚\nãƒ¡ãƒ¼ãƒ«ãŒæ­£å¸¸ã«é€ä¿¡ã•ã‚Œã¾ã—ãŸã€‚24æ™‚é–“ä»¥å†…ã«ã”è¿”ä¿¡ã„ãŸã—ã¾ã™ã€‚');
          contactForm.reset();
          submitBtn.innerHTML = 'é€ä¿¡ã™ã‚‹';
          submitBtn.style.background = 'linear-gradient(135deg, #191970 0%, #191970 100%)';
          submitBtn.disabled = false;
          addDebugLog('ğŸ”„ ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ', 'success');
        }, 1500);
        
      })
      .catch(function(error) {
        addDebugLog('âŒ ãƒ¡ãƒ¼ãƒ«é€ä¿¡å¤±æ•—', 'error');
        addDebugLog(`Error: ${JSON.stringify(error)}`, 'error');
        
        submitBtn.innerHTML = 'é€ä¿¡å¤±æ•—';
        submitBtn.style.background = 'linear-gradient(135deg, #ff6b6b, #ee5a24)';
        
        setTimeout(() => {
          let errorMessage = 'ç”³ã—è¨³ã”ã–ã„ã¾ã›ã‚“ã€‚é€ä¿¡ã«å¤±æ•—ã—ã¾ã—ãŸã€‚\n\n';
          
          // ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ã«å¿œã˜ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
          if (error.status === 403 || error.text?.includes('403')) {
            errorMessage += 'åŸå› : ã‚¢ã‚¯ã‚»ã‚¹ãŒæ‹’å¦ã•ã‚Œã¾ã—ãŸã€‚EmailJSã®è¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚\n';
            errorMessage += '- Public KeyãŒæ­£ã—ã„ã‹ç¢ºèª\n';
            errorMessage += '- Service IDãŒæ­£ã—ã„ã‹ç¢ºèª\n';
            errorMessage += '- Template IDãŒæ­£ã—ã„ã‹ç¢ºèª\n';
            errorMessage += '- EmailJSãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã‚µãƒ¼ãƒ“ã‚¹ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª\n\n';
          } else if (error.status === 400) {
            errorMessage += 'åŸå› : ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®è¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚\n\n';
          } else {
            errorMessage += `ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰: ${error.status}\n`;
            errorMessage += `ã‚¨ãƒ©ãƒ¼å†…å®¹: ${error.text}\n\n`;
          }
          
          errorMessage += 'ç›´æ¥ãƒ¡ãƒ¼ãƒ«ï¼ˆreirei.ou@outlook.jpï¼‰ã«ãŠå•ã„åˆã‚ã›ã„ãŸã ãã‹ã€ã—ã°ã‚‰ãå¾Œã«å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚';
          
          alert(errorMessage);
          submitBtn.innerHTML = 'é€ä¿¡ã™ã‚‹';
          submitBtn.style.background = 'linear-gradient(135deg, #191970 0%, #191970 100%)';
          submitBtn.disabled = false;
        }, 2000);
      });
  });
  
  // åˆæœŸåŒ–å®Œäº†ã®ç¢ºèª
  setTimeout(() => {
    addDebugLog('ğŸ” EmailJSè¨­å®šã®æœ€çµ‚ç¢ºèª...');
    addDebugLog('ã™ã¹ã¦ã®è¨­å®šãŒå®Œäº†ã—ã¾ã—ãŸã€‚ãƒ•ã‚©ãƒ¼ãƒ ã®é€ä¿¡ãƒ†ã‚¹ãƒˆã‚’è¡Œã£ã¦ãã ã•ã„ã€‚');
  }, 1000);
});
  
// é¡µé¢åŠ è½½åŠ¨ç”»
window.addEventListener('load', () => {
  const container = document.querySelector('.contact-container');
  container.style.opacity = '0';
  container.style.transform = 'translateY(30px)';
  
  setTimeout(() => {
    container.style.transition = 'all 0.8s cubic-bezier(0.4, 0, 0.2, 1)';
    container.style.opacity = '1';
    container.style.transform = 'translateY(0)';
  }, 100);
});
</script>
</body>
</html>
