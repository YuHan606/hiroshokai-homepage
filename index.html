<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Home - åºƒæ˜Œä¼šå”åŒçµ„åˆ</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      line-height: 1.6;
      color: #333;
      position: relative;
      overflow-x: hidden;
    }
    
    /* ç™¾å¶çª—èƒŒæ™¯å®¹å™¨ */
    .blinds-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      z-index: -10;
      overflow: hidden;
    }
    
    /* ç™¾å¶çª—ç‰‡ */
    .blind-slat {
      position: absolute;
      width: 100%;
      height: calc(100vh / 15); /* 15æ¡ç™¾å¶çª—ç‰‡ */
      background-size: cover;
      background-position: center;
      transition: transform 1.2s cubic-bezier(0.4, 0.0, 0.2, 1);
      transform-origin: center center;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    /* ä¸–ç•Œå’Œå¹³ä¸»é¢˜å›¾ç‰‡ */
    .peace-image-1 {
      background-image: url('https://images.unsplash.com/photo-1529156069898-49953e39b3ac?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80');
    }
    
    .peace-image-2 {
      background-image: url('https://images.unsplash.com/photo-1582213782179-e0d53f98f2ca?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80');
    }
    
    .peace-image-3 {
      background-image: url('https://images.unsplash.com/photo-1521737604893-d14cc237f11d?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80');
    }
    
    /* ç™¾å¶çª—ç¿»è½¬åŠ¨ç”» */
    .blind-slat.flip-out {
      transform: rotateX(90deg);
    }
    
    .blind-slat.flip-in {
      transform: rotateX(0deg);
    }
    
    /* ç™¾å¶çª—æ§åˆ¶å™¨ */
    .blinds-controller {
      position: fixed;
      bottom: 80px;
      right: 30px;
      display: flex;
      flex-direction: column;
      gap: 15px;
      z-index: 20;
    }
    
    .blind-control {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: rgba(255,255,255,0.9);
      border: 2px solid rgba(79,172,254,0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      backdrop-filter: blur(10px);
    }
    
    .blind-control:hover {
      background: rgba(79,172,254,0.9);
      color: white;
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(79,172,254,0.4);
    }
    
    .blind-control.active {
      background: linear-gradient(135deg, #4facfe, #00f2fe);
      color: white;
      box-shadow: 0 6px 20px rgba(79,172,254,0.5);
    }
    
    /* å’Œå¹³ä¸»é¢˜è£…é¥° */
    .peace-symbol {
      position: fixed;
      top: 20%;
      left: 5%;
      width: 80px;
      height: 80px;
      opacity: 0.3;
      z-index: -5;
      animation: peacePulse 4s ease-in-out infinite;
    }
    
    .peace-symbol::before {
      content: 'â˜®';
      font-size: 60px;
      color: rgba(255,255,255,0.8);
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }
    
    @keyframes peacePulse {
      0%, 100% { 
        opacity: 0.3;
        transform: scale(1);
      }
      50% { 
        opacity: 0.6;
        transform: scale(1.1);
      }
    }
    
    /* åœ°çƒå›¾æ ‡è£…é¥° */
    .earth-icon {
      position: fixed;
      top: 25%;
      right: 8%;
      width: 60px;
      height: 60px;
      opacity: 0.4;
      z-index: -5;
      animation: earthRotate 20s linear infinite;
    }
    
    .earth-icon::before {
      content: 'ğŸŒ';
      font-size: 50px;
      filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
    }
    
    @keyframes earthRotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    /* å›¢ç»“ä¹‹æ‰‹è£…é¥° */
    .unity-hands {
      position: fixed;
      bottom: 20%;
      left: 8%;
      width: 70px;
      height: 70px;
      opacity: 0.4;
      z-index: -5;
      animation: unityPulse 6s ease-in-out infinite;
    }
    
    .unity-hands::before {
      content: 'ğŸ¤';
      font-size: 55px;
      filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
    }
    
    @keyframes unityPulse {
      0%, 100% { 
        opacity: 0.4;
        transform: scale(1);
      }
      50% { 
        opacity: 0.7;
        transform: scale(1.15);
      }
    }
    
    /* å’Œå¹³é¸½è£…é¥° */
    .peace-dove {
      position: fixed;
      top: 15%;
      right: 15%;
      width: 50px;
      height: 50px;
      opacity: 0.5;
      z-index: -5;
      animation: doveFloat 8s ease-in-out infinite;
    }
    
    .peace-dove::before {
      content: 'ğŸ•Š';
      font-size: 40px;
      filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
    }
    
    @keyframes doveFloat {
      0%, 100% { 
        transform: translateY(0px) rotate(0deg);
        opacity: 0.5;
      }
      25% { 
        transform: translateY(-8px) rotate(2deg);
        opacity: 0.7;
      }
      50% { 
        transform: translateY(-5px) rotate(-1deg);
        opacity: 0.8;
      }
      75% { 
        transform: translateY(-10px) rotate(1deg);
        opacity: 0.6;
      }
    }
    
    /* æ¸©æš–å…‰æ™•æ•ˆæœ */
    .warm-glow {
      position: fixed;
      top: 10%;
      left: 10%;
      width: 300px;
      height: 300px;
      background: radial-gradient(circle, rgba(255,215,0,0.1) 0%, rgba(255,165,0,0.05) 50%, transparent 70%);
      z-index: -6;
      animation: glowPulse 12s ease-in-out infinite;
      border-radius: 50%;
    }
    
    @keyframes glowPulse {
      0%, 100% { 
        opacity: 0.3;
        transform: scale(1);
      }
      50% { 
        opacity: 0.6;
        transform: scale(1.3);
      }
    }
    
    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 768px) {
      .blinds-controller {
        bottom: 60px;
        right: 20px;
        gap: 10px;
      }
      
      .blind-control {
        width: 50px;
        height: 50px;
        font-size: 14px;
      }
      
      .peace-symbol, .earth-icon, .unity-hands, .peace-dove {
        display: none; /* åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šéšè—è£…é¥°å…ƒç´  */
      }
    }
    
    header {
      background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(240,248,255,0.95) 100%);
      padding: 0;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255,255,255,0.2);
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    
    header h1 {
      text-align: center;
      margin: 0;
      color: #2c3e50;
      font-size: 2.8rem;
      font-weight: 700;
      padding: 20px 0 10px 0;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
      background: linear-gradient(135deg, #4facfe, #00f2fe);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    nav {
      background: linear-gradient(90deg, #4facfe 0%, #00f2fe 30%, #4facfe 80%);
      padding: 0;
      box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
    }
    
    nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: stretch;
      min-height: 60px;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    nav li {
      flex: 1;
      text-align: center;
      border-right: 1px solid rgba(255,255,255,0.2);
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
    }
    
    nav li:last-child {
      border-right: none;
    }
    
    nav li::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.6s ease;
      z-index: 1;
    }
    
    nav li:hover::before {
      left: 100%;
    }
    
    nav a {
      display: block;
      text-decoration: none;
      color: white;
      font-weight: 600;
      padding: 18px 20px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      z-index: 2;
      font-size: 0.95rem;
      letter-spacing: 0.5px;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
      width: 100%;
      box-sizing: border-box;
    }
    
    nav a:hover {
      color: #4facfe;
      background: rgba(255,255,255,0.95);
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    
    body {
      font-family: 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      line-height: 1.6;
      color: #333;
      position: relative;
      overflow-x: hidden;
    }
    /* è¾¹ç¼˜æ ‡ç­¾æ ·å¼ */
    .edge-tabs {
      position: fixed;
      top: 50%;
      transform: translateY(-50%);
      z-index: 1000;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .left-tabs {
      left: 0;
    }
    
    .right-tabs {
      right: 0;
    }
    
    .edge-tab {
      background: linear-gradient(135deg, #4facfe, #00f2fe);
      color: white;
      text-decoration: none;
      padding: 15px 25px 15px 15px;
      border-radius: 0 25px 25px 0;
      box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      min-width: 200px;
      position: relative;
      overflow: hidden;
    }
    
    .right-tabs .edge-tab {
      border-radius: 25px 0 0 25px;
      padding: 15px 15px 15px 25px;
      text-align: right;
    }
    
    .edge-tab::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.6s ease;
    }
    
    .edge-tab:hover::before {
      left: 100%;
    }
    
    .edge-tab:hover {
      box-shadow: 0 8px 25px rgba(79, 172, 254, 0.4);
      background: linear-gradient(135deg, #667eea, #764ba2);
      transform: scale(1.05);
    }
    
    .tab-text {
      font-weight: 600;
      font-size: 0.9rem;
      line-height: 1.3;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
      display: block;
    }
    
    /* ä¸»è¦å†…å®¹åŒºåŸŸè°ƒæ•´ */
    section {
      max-width: 1200px;
      margin: 20px auto;
      padding: 40px 20px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
      backdrop-filter: blur(10px);
    }
    
    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 1024px) {
      .edge-tab {
        min-width: 180px;
        font-size: 0.85rem;
        padding: 12px 20px 12px 12px;
      }
      
      .right-tabs .edge-tab {
        padding: 12px 12px 12px 20px;
      }
    }
    
    @media (max-width: 768px) {
      .edge-tabs {
        position: relative;
        top: auto;
        transform: none;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        margin: 20px 0;
        gap: 10px;
      }
      
      .left-tabs, .right-tabs {
        left: auto;
        right: auto;
      }
      
      .edge-tab, .right-tabs .edge-tab {
        border-radius: 15px;
        min-width: 160px;
        padding: 12px 15px;
        text-align: center;
        margin: 5px;
      }
      
      .edge-tab:hover, .right-tabs .edge-tab:hover {
        transform: scale(1.05);
      }
      
      .tab-text {
        font-size: 0.8rem;
      }
    }
    
    @media (max-width: 480px) {
      .edge-tab {
        min-width: 140px;
        font-size: 0.75rem;
        padding: 10px 12px;
      }
      
      .tab-text {
        font-size: 0.75rem;
      }
    }
    
    #globe-container {
      width: 500px;
      height: 500px;
      margin: 30px auto;
      border-radius: 50%;
      overflow: hidden;
      position: relative;
      background: transparent;
    }
    
    h2 {
      text-align: center;
      color: #2c3e50;
      font-size: 1.8rem;
      margin: 40px 0 30px 0;
    }
    
    section ul {
      max-width: 800px;
      margin: 0 auto;
      padding: 0;
    }
    
    section li {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 80%);
      color: white;
      margin: 15px 0;
      padding: 15px 20px;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      transform: translateX(-10px);
      opacity: 0;
      animation: slideIn 0.6s ease forwards;
      animation-delay: calc(var(--i) * 0.1s);
    }
    
    section li:nth-child(1) { --i: 1; }
    section li:nth-child(2) { --i: 2; }
    section li:nth-child(3) { --i: 3; }
    section li:nth-child(4) { --i: 4; }
    section li:nth-child(5) { --i: 5; }
    section li:nth-child(6) { --i: 6; }
    section li:nth-child(7) { --i: 7; }
    
    @keyframes slideIn {
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }
    
    /* ä¼˜åŒ–çš„åº•éƒ¨æ–‡å­—æ•ˆæœ */
    section p {
      text-align: center;
      font-size: 2rem;
      font-weight: 900;
      margin: 50px 0;
      padding: 30px 20px;
      border-radius: 20px;
      position: relative;
      overflow: hidden;
      
      /* ç‚«å½©æ¸å˜èƒŒæ™¯ */
      background: linear-gradient(135deg, 
        #ff6b6b 0%, 
        #ffa500 25%, 
        #32cd32 50%, 
        #1e90ff 75%, 
        #9370db 100%);
      background-size: 400% 400%;
      animation: gradientShift 3s ease-in-out infinite;
      
      /* éœ“è™¹å‘å…‰æ–‡å­— */
      color: #ffffff;
      text-shadow: 
        0 0 10px rgba(255,255,255,0.8),
        0 0 20px rgba(255,105,180,0.6),
        0 0 30px rgba(255,105,180,0.4),
        0 0 40px rgba(255,105,180,0.2);
      
      /* 3Dç«‹ä½“æ•ˆæœ */
      transform: perspective(500px) rotateX(10deg);
      box-shadow: 
        0 15px 30px rgba(0,0,0,0.3),
        0 0 50px rgba(255,105,180,0.2),
        inset 0 2px 10px rgba(255,255,255,0.2);
      
      /* åŠ¨ç”»è¿‡æ¸¡ */
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* æ‚¬åœæ•ˆæœ */
    section p:hover {
      transform: perspective(500px) rotateX(0deg) scale(1.05);
      box-shadow: 
        0 25px 50px rgba(0,0,0,0.4),
        0 0 100px rgba(255,105,180,0.4),
        inset 0 2px 15px rgba(255,255,255,0.3);
      
      text-shadow: 
        0 0 15px rgba(255,255,255,1),
        0 0 30px rgba(255,20,147,0.8),
        0 0 45px rgba(255,20,147,0.6),
        0 0 60px rgba(255,20,147,0.4);
    }
    
    /* èƒŒæ™¯æ¸å˜åŠ¨ç”» */
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    /* é—ªçƒè¾¹æ¡†æ•ˆæœ */
    section p::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, #ff6b6b, #ffa500, #32cd32, #1e90ff, #9370db);
      border-radius: 22px;
      z-index: -1;
      animation: borderGlow 2s linear infinite;
      opacity: 0.8;
    }
    
    @keyframes borderGlow {
      0% { filter: hue-rotate(0deg) brightness(1); }
      50% { filter: hue-rotate(180deg) brightness(1.2); }
      100% { filter: hue-rotate(360deg) brightness(1); }
    }
    
    /* å“åº”å¼è°ƒæ•´ */
    @media (max-width: 768px) {
      section p {
        font-size: 1.6rem;
        padding: 25px 15px;
        transform: perspective(300px) rotateX(5deg);
      }
      
      section p:hover {
        transform: perspective(300px) rotateX(0deg) scale(1.03);
      }
    }
    
    @media (max-width: 480px) {
      section p {
        font-size: 1.3rem;
        padding: 20px 10px;
        transform: none;
      }
      
      section p:hover {
        transform: scale(1.02);
      }
    }
    
    footer {
      text-align: center;
      padding: 30px;
      background: rgba(44, 62, 80, 0.9);
      color: white;
      margin-top: 40px;
    }
    
  </style>
</head>
<body>
<!-- ç™¾å¶çª—èƒŒæ™¯åˆ‡æ¢ç³»ç»Ÿ -->
<div class="blinds-container" id="blindsContainer">
  <!-- ç™¾å¶çª—ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
</div>

<!-- ç™¾å¶çª—æ§åˆ¶å™¨ -->
<div class="blinds-controller">
  <div class="blind-control active" data-image="1">1</div>
  <div class="blind-control" data-image="2">2</div>
  <div class="blind-control" data-image="3">3</div>
</div>

<!-- å’Œå¹³ä¸»é¢˜è£…é¥° -->
<div class="peace-symbol"></div>
<div class="earth-icon"></div>
<div class="unity-hands"></div>
<div class="peace-dove"></div>
<div class="warm-glow"></div>

<header>
  <h1>åºƒæ˜Œä¼šå”åŒçµ„åˆ</h1>
  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="overview.html">çµ„åˆæ¦‚è¦</a></li>
      <li><a href="ginou.html">æŠ€èƒ½å®Ÿç¿’</a></li>
      <li><a href="tokutei.html">ç‰¹å®šæŠ€èƒ½</a></li>
      <li><a href="sending.html">é€ã‚Šå‡ºã—ç´¹ä»‹</a></li>
      <li><a href="training.html">ç ”ä¿®ã‚»ãƒ³ã‚¿ãƒ¼ç´¹ä»‹</a></li>
      <li><a href="contact.html">ãŠå•ã„åˆã‚ã›</a></li>
    </ul>
  </nav>
</header>

<!-- å·¦ä¾§è¾¹ç¼˜æ ‡ç­¾ -->
<div class="edge-tabs left-tabs">
  <a href="interview.html" class="edge-tab">
    <span class="tab-text">å°‚é–€å®¶ã«ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼</span>
  </a>
  <a href="jinzai.html" class="edge-tab">
    <span class="tab-text">äººææƒ…å ±ä¸€è¦§</span>
  </a>
  <a href="kyujin.html" class="edge-tab">
    <span class="tab-text">æ±‚äººæ²è¼‰ã®ãŠç”³ã—è¾¼ã¿</span>
  </a>
  <a href="qa.html" class="edge-tab">
    <span class="tab-text">å¤–å›½äººé›‡ç”¨Qï¼†Aä¸€è¦§</span>
  </a>
</div>

<!-- å³ä¾§è¾¹ç¼˜æ ‡ç­¾ -->
<div class="edge-tabs right-tabs">
  <a href="denryoku.html" class="edge-tab">
    <span class="tab-text">ä¼æ¥­æ§˜ã«é›»åŠ›åŠã³ç¤¾å“¡å¯®æä¾›</span>
  </a>
  <a href="solar.html" class="edge-tab">
    <span class="tab-text">å¤ªé™½å…‰ç™ºé›»åŠã³è“„é›»æä¾›</span>
  </a>
  <a href="denki.html" class="edge-tab">
    <span class="tab-text">ä¼æ¥­æ§˜ã«é›»æ°—åŠã³å¯®æä¾›</span>
  </a>
  <a href="sending.html" class="edge-tab">
    <span class="tab-text">é€ã‚Šå‡ºã—æ©Ÿé–¢ã‚’æ¢ã™</span>
  </a>
</div>

<!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
<div class="main-content">
  <!-- 3Dåœ°çƒ -->
  <div id="globe-container"></div>
  
  <section>
  <h2>ä»Šã®ã‚ˆã†ãªç–‘å•ã‚„ä¸å®‰ã‚’ãŠæŒã¡ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ï¼Ÿ</h2>
  <ul>
    <li>å¤–å›½äººã‚¹ã‚¿ãƒƒãƒ•ã‚’é›‡ç”¨ã—ãŸã„ã‘ã©ã€ã©ã†ã—ãŸã‚‰ã„ã„ã‹ã‚ã‹ã‚‰ãªã„</li>
    <li>è¨€è‘‰ã¯ã€é€šã˜ã‚‹ã®ãƒ»ãƒ»ãƒ»</li>
    <li>ä»•äº‹ã®å†…å®¹ã¯ä¼ã‚ã‚‹ã®</li>
    <li>ç¿’æ…£ã‚„æ–‡åŒ–ã¯å¤§ä¸ˆå¤«ãªã®</li>
    <li>ãƒ“ã‚¶ã®æ›´æ–°ã¨ã‹æ‰‹ç¶šããŒé¢å€’ã˜ã‚ƒãªã„ã®</li>
    <li>å¤–å›½äººã¯ã„ã„åŠ æ¸›ãªã‚“ã˜ã‚ƒãªã„ã®</li>
    <li>éå»ã«å¤±æ•—ã—ãŸçµŒé¨“ãŒã‚ã‚‹</li>
  </ul>
  <p>ã“ã®ãŠæ‚©ã¿åºƒæ˜Œä¼šå”åŒçµ„åˆãŒè§£æ±ºã—ã¾ã™!</p>
</section>
</div>

<footer>
  <p>&copy; 2025 åºƒæ˜Œä¼šå”åŒçµ„åˆ</p>
</footer>

<!-- Three.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
  const container = document.getElementById("globe-container");
  let width = container.offsetWidth;
  let height = container.offsetHeight;
  
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, width/height, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
  
  renderer.setSize(width, height);
  renderer.setClearColor(0x000000, 0);
  container.appendChild(renderer.domElement);
  
  // çœŸå®åœ°çƒçº¹ç†
  const loader = new THREE.TextureLoader();
  const earthTexture = loader.load("https://threejs.org/examples/textures/land_ocean_ice_cloud_2048.jpg");
  const normalMap = loader.load("https://threejsfundamentals.org/threejs/resources/images/earth-normal.jpg");
  const specularMap = loader.load("https://threejsfundamentals.org/threejs/resources/images/earth-specular.gif");
  const nightTexture = loader.load("https://eoimages.gsfc.nasa.gov/images/imagerecords/57000/57730/earth_lights_lrg.jpg");
  const cloudTexture = loader.load("https://threejs.org/examples/textures/planets/earth_clouds.png");
  // æ³¨æ„ï¼šç§»é™¤äº†æ˜Ÿç©ºçº¹ç†çš„åŠ è½½
  // const starTexture = loader.load("https://threejs.org/examples/textures/galaxy_starfield.png");

  // å›½å®¶æ•°æ® (ç»çº¬åº¦è½¬æ¢ä¸º3Dåæ ‡)
  const countries = [
    { name: 'ğŸ‡®ğŸ‡© ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢', lat: -6.2, lng: 106.8 }, // é›…åŠ è¾¾
    { name: 'ğŸ‡²ğŸ‡² ãƒŸãƒ£ãƒ³ãƒãƒ¼', lat: 21.9, lng: 96.0 },   // ä»°å…‰
    { name: 'ğŸ‡¨ğŸ‡³ ä¸­å›½', lat: 39.9, lng: 116.4 },        // åŒ—äº¬
    { name: 'ğŸ‡°ğŸ‡­ ã‚«ãƒ³ãƒœã‚¸ã‚¢', lat: 11.6, lng: 104.9 },   // é‡‘è¾¹
    { name: 'ğŸ‡»ğŸ‡³ ãƒ™ãƒˆãƒŠãƒ ', lat: 21.0, lng: 105.8 },     // æ²³å†…
    { name: 'ğŸ‡³ğŸ‡µ ãƒãƒ‘ãƒ¼ãƒ«', lat: 27.7, lng: 85.3 }       // åŠ å¾·æ»¡éƒ½
  ];

  // ç»çº¬åº¦è½¬3Dåæ ‡å‡½æ•°
  function latLngToVector3(lat, lng, radius) {
    const phi = (90 - lat) * (Math.PI / 180);
    const theta = (lng + 180) * (Math.PI / 180);
    
    return new THREE.Vector3(
      -radius * Math.sin(phi) * Math.cos(theta),
      radius * Math.cos(phi),
      radius * Math.sin(phi) * Math.sin(theta)
    );
  }

  // åˆ›å»ºå›½å®¶æ ‡ç­¾ç»„ - è®©å®ƒéšåœ°çƒä¸€èµ·æ—‹è½¬
  const countryLabelsGroup = new THREE.Group();
  scene.add(countryLabelsGroup);

  // å­˜å‚¨æ‰€æœ‰æ ‡ç­¾çš„HTMLå…ƒç´ 
  const countryLabelElements = [];

  // ä¸ºæ¯ä¸ªå›½å®¶åˆ›å»ºæ ‡ç­¾
  countries.forEach((country, index) => {
    // è®¡ç®—å›½å®¶åœ¨åœ°çƒä¸Šçš„3Dä½ç½®
    const countryPos = latLngToVector3(country.lat, country.lng, 1.8);
    
    // åˆ›å»ºæ ‡ç­¾å¤–å»¶ä½ç½®
    const labelPos = latLngToVector3(country.lat, country.lng, 3.5);
    
    // å·¥å…·å‡½æ•°ï¼šæ ¹æ®æœ€å¤§é•¿åº¦è°ƒæ•´ labelPos
    function getAdjustedLabelPos(countryPos, labelPos, maxLength) {
      const direction = new THREE.Vector3().subVectors(labelPos, countryPos);
      const distance = direction.length();

      if (distance <= maxLength) {
        return labelPos.clone();
      }

      direction.normalize().multiplyScalar(maxLength);
      return new THREE.Vector3().addVectors(countryPos, direction);
    }

    // åœ¨å¾ªç¯ä¸­ä½¿ç”¨
    const adjustedLabelPos = getAdjustedLabelPos(countryPos, labelPos, 8); // 20æ˜¯æœ€å¤§çº¿é•¿

    // åˆ›å»ºè¿æ¥çº¿
    const lineGeometry = new THREE.BufferGeometry();
    const linePositions = new Float32Array([
       countryPos.x, countryPos.y, countryPos.z,
       adjustedLabelPos.x, adjustedLabelPos.y, adjustedLabelPos.z
    ]);
    lineGeometry.setAttribute('position', new THREE.BufferAttribute(linePositions, 3));

    const lineMaterial = new THREE.LineBasicMaterial({ 
      color: 0x4facfe,
      linewidth: 2,
      transparent: true,
      opacity: 0.8
    });
    const line = new THREE.Line(lineGeometry, lineMaterial);

    // åˆ›å»ºæ–‡å­—æ ‡ç­¾
    const labelDiv = document.createElement('div');
    labelDiv.textContent = country.name;
    labelDiv.style.cssText = `
      position: absolute;
      background: linear-gradient(135deg, #4facfe, #00f2fe);
      color: white;
      padding: 8px 12px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 600;
      box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
      pointer-events: none;
      white-space: nowrap;
      z-index: 500;
      transform: translate(-50%, -50%);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
      text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
      opacity: 0;
      transition: opacity 0.5s ease;
    `;

    container.appendChild(labelDiv);

    // å­˜å‚¨æ ‡ç­¾ä¿¡æ¯
    const labelData = {
      labelDiv: labelDiv,
      originalLabelPos: adjustedLabelPos.clone(), // ä½¿ç”¨è°ƒæ•´åçš„ä½ç½®
      country: country,
      index: index,
      line: line
    };

    line.userData = labelData;
    countryLabelElements.push(labelData);
    countryLabelsGroup.add(line);

  });

  // æ›´æ–°æ ‡ç­¾ä½ç½®çš„å‡½æ•° - ç°åœ¨ä¼šéšåœ°çƒæ—‹è½¬
  function updateCountryLabels() {
    countryLabelElements.forEach(labelData => {
      const { labelDiv, originalLabelPos, line } = labelData;
      
      // åº”ç”¨åœ°çƒçš„æ—‹è½¬åˆ°æ ‡ç­¾ä½ç½®
      const rotatedPos = originalLabelPos.clone();
      rotatedPos.applyMatrix4(earth.matrixWorld);
      
      // å°†æ—‹è½¬åçš„3Dä½ç½®è½¬æ¢ä¸ºå±å¹•åæ ‡
      const vector = rotatedPos.clone().project(camera);
      const x = (vector.x * 0.5 + 0.5) * width;
      const y = (vector.y * -0.5 + 0.5) * height;
      
      // æ£€æŸ¥æ ‡ç­¾æ˜¯å¦åœ¨åœ°çƒå‰é¢ï¼ˆè€ƒè™‘æ—‹è½¬ï¼‰
      const rotatedCountryPos = latLngToVector3(labelData.country.lat, labelData.country.lng, 1.8);
      rotatedCountryPos.applyMatrix4(earth.matrixWorld);
      
      // è®¡ç®—è¯¥ç‚¹æ˜¯å¦é¢å‘ç›¸æœº
      const normalVector = rotatedCountryPos.clone().normalize();
      const cameraDirection = camera.position.clone().normalize();
      const dotProduct = normalVector.dot(cameraDirection);
      
      const isVisible = dotProduct > 0.2; // è°ƒæ•´è¿™ä¸ªå€¼æ¥æ§åˆ¶ä½•æ—¶æ˜¾ç¤ºæ ‡ç­¾
      
      // æ›´æ–°æ ‡ç­¾ä½ç½®å’Œå¯è§æ€§
      labelDiv.style.left = x + 'px';
      labelDiv.style.top = y + 'px';
      labelDiv.style.opacity = isVisible ? '0.9' : '0';
      
      // æ›´æ–°è¿æ¥çº¿çš„ä½ç½®å’Œé€æ˜åº¦
      const rotatedCountryPosForLine = latLngToVector3(labelData.country.lat, labelData.country.lng, 1.8);
      rotatedCountryPosForLine.applyMatrix4(earth.matrixWorld);
      
      const rotatedLabelPosForLine = originalLabelPos.clone();
      rotatedLabelPosForLine.applyMatrix4(earth.matrixWorld);
      
      const positions = line.geometry.attributes.position.array;
      positions[0] = rotatedCountryPosForLine.x;
      positions[1] = rotatedCountryPosForLine.y;
      positions[2] = rotatedCountryPosForLine.z;
      positions[3] = rotatedLabelPosForLine.x;
      positions[4] = rotatedLabelPosForLine.y;
      positions[5] = rotatedLabelPosForLine.z;
      line.geometry.attributes.position.needsUpdate = true;
      
      // æ›´æ–°è¿æ¥çº¿é€æ˜åº¦
      line.material.opacity = isVisible ? 0.8 : 0;
    });
  }

// å«æ˜Ÿå›¾ç‰‡ç»„
const photoUrls = [
  './photos/photo1.png',
  './photos/photo2.jpg',
  './photos/photo3.jpg',
  './photos/photo4.jpg'
];

const satelliteGroup = new THREE.Group(); 
scene.add(satelliteGroup);

const planeGeometry = new THREE.PlaneGeometry(0.8, 0.6); 
const radius = 4; // è·ç¦»åœ°çƒçš„åŠå¾„

photoUrls.forEach((url, i) => {
  const texture = loader.load(url);
  const material = new THREE.MeshBasicMaterial({
    map: texture,
    transparent: true,
    side: THREE.DoubleSide
  });

  const plane = new THREE.Mesh(planeGeometry, material);
  const angle = (i / photoUrls.length) * Math.PI * 2;

  plane.position.set(
    Math.cos(angle) * radius,
    0,
    Math.sin(angle) * radius
  );

  plane.lookAt(camera.position);
  satelliteGroup.add(plane);
});


  // åœ°çƒä¸»ä½“
  const geometry = new THREE.SphereGeometry(1.8, 64, 64);
  const material = new THREE.MeshPhongMaterial({
    map: earthTexture,
    normalMap: normalMap,
    specularMap: specularMap,
    shininess: 2500
  });
  const earth = new THREE.Mesh(geometry, material);
  scene.add(earth);

  // å¤œé—´ç¯å…‰
  const nightMaterial = new THREE.MeshBasicMaterial({
    map: nightTexture,
    blending: THREE.AdditiveBlending,
    transparent: true,
    opacity: 0.5
  });
  const earthNight = new THREE.Mesh(geometry, nightMaterial);
  scene.add(earthNight);

  // äº‘å±‚
  const cloudGeometry = new THREE.SphereGeometry(1.83, 64, 64);
  const cloudMaterial = new THREE.MeshLambertMaterial({
    map: cloudTexture,
    transparent: true,
    opacity: 0.4
  });
  const clouds = new THREE.Mesh(cloudGeometry, cloudMaterial);
  scene.add(clouds);

  // å¤§æ°”å±‚
  const atmosphereGeometry = new THREE.SphereGeometry(1.9, 64, 64);
  const atmosphereMaterial = new THREE.ShaderMaterial({
    transparent: true,
    side: THREE.BackSide,
    vertexShader: `
      varying vec3 vNormal;
      void main() {
        vNormal = normalize(normalMatrix * normal);
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      }
    `,
    fragmentShader: `
      varying vec3 vNormal;
      void main() {
        float intensity = pow(0.7 - dot(vNormal, vec3(0,0,1)), 3.0);
        gl_FragColor = vec4(0.2, 0.5, 1.0, 0.4) * intensity;
      }
    `
  });
  const atmosphere = new THREE.Mesh(atmosphereGeometry, atmosphereMaterial);
  scene.add(atmosphere);

  // æ³¨æ„ï¼šå®Œå…¨ç§»é™¤äº†æ˜Ÿç©ºèƒŒæ™¯
  // const starGeo = new THREE.SphereGeometry(90, 64, 64);
  // const starMat = new THREE.MeshBasicMaterial({
  //   map: starTexture,
  //   side: THREE.BackSide
  // });
  // const starField = new THREE.Mesh(starGeo, starMat);
  // scene.add(starField);

  // å…‰ç…§
  const ambientLight = new THREE.AmbientLight(0x404040, 4.0);
  scene.add(ambientLight);
  const directionalLight = new THREE.DirectionalLight(0xffffff, 4.0);
  directionalLight.position.set(5, 3, 5);
  scene.add(directionalLight);

  camera.position.z = 4;

  // é¼ æ ‡äº¤äº’
  let mouseX = 0, mouseY = 0;
  container.addEventListener('mousemove', (event) => {
    const rect = container.getBoundingClientRect();
    mouseX = (event.clientX - rect.left) / width - 0.5;
    mouseY = (event.clientY - rect.top) / height - 0.5;
  });

  function animate() {
    // åœ°çƒè‡ªè½¬
    requestAnimationFrame(animate);
    earth.rotation.y += 0.0015;
    earthNight.rotation.y = earth.rotation.y;
    clouds.rotation.y += 0.001;
       
    // å«æ˜Ÿç»„å…¬è½¬
    satelliteGroup.rotation.y += 0.002;

    // é¼ æ ‡äº¤äº’
    camera.position.x += (mouseX * 0.5 - camera.position.x) * 0.05;
    camera.position.y += (-mouseY * 0.5 - camera.position.y) * 0.05;
    camera.lookAt(scene.position);

    // æ›´æ–°å›½å®¶æ ‡ç­¾ä½ç½®
    updateCountryLabels();

    renderer.render(scene, camera);
  }
  animate();

  window.addEventListener('resize', () => {
    const newWidth = container.offsetWidth;
    const newHeight = container.offsetHeight;
    camera.aspect = newWidth / newHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(newWidth, newHeight);
    
    // æ›´æ–°å®½é«˜å˜é‡ç”¨äºæ ‡ç­¾ä½ç½®è®¡ç®—
    width = newWidth;
    height = newHeight;
  });

  // ç™¾å¶çª—èƒŒæ™¯åˆ‡æ¢åŠŸèƒ½
  const blindsContainer = document.getElementById('blindsContainer');
  const blindControls = document.querySelectorAll('.blind-control');
  const numberOfSlats = 15; // ç™¾å¶çª—ç‰‡æ•°é‡
  let currentImage = 1;
  let isAnimating = false;
  
  // ä¸–ç•Œå’Œå¹³ä¸»é¢˜å›¾ç‰‡
  const peaceImages = {
    1: 'https://images.unsplash.com/photo-1529156069898-49953e39b3ac?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80', // å¤šå…ƒå›¢ç»“
    2: 'https://images.unsplash.com/photo-1582213782179-e0d53f98f2ca?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80', // æ‰‹ç‰µæ‰‹
    3: 'https://images.unsplash.com/photo-1521737604893-d14cc237f11d?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80'  // ä¸–ç•Œè¿æ¥
  };
  
  // åˆ›å»ºç™¾å¶çª—ç‰‡
  function createBlindSlats() {
    blindsContainer.innerHTML = '';
    for (let i = 0; i < numberOfSlats; i++) {
      const slat = document.createElement('div');
      slat.className = 'blind-slat peace-image-1';
      slat.style.top = `${(i / numberOfSlats) * 100}%`;
      slat.style.backgroundImage = `url(${peaceImages[currentImage]})`;
      slat.style.backgroundPosition = `center ${(i / (numberOfSlats - 1)) * 100}%`;
      blindsContainer.appendChild(slat);
    }
  }
  
  // ç™¾å¶çª—ç¿»è½¬åˆ‡æ¢æ•ˆæœ
  function switchBlindsImage(newImageIndex) {
    if (isAnimating || newImageIndex === currentImage) return;
    
    isAnimating = true;
    const slats = document.querySelectorAll('.blind-slat');
    
    // ç¬¬ä¸€é˜¶æ®µï¼šç¿»è½¬å‡ºå»
    slats.forEach((slat, index) => {
      setTimeout(() => {
        slat.classList.add('flip-out');
      }, index * 50); // é€ç‰‡ç¿»è½¬
    });
    
    // ç¬¬äºŒé˜¶æ®µï¼šæ›´æ¢å›¾ç‰‡å¹¶ç¿»è½¬è¿›æ¥
    setTimeout(() => {
      slats.forEach((slat, index) => {
        slat.style.backgroundImage = `url(${peaceImages[newImageIndex]})`;
        slat.className = `blind-slat peace-image-${newImageIndex}`;
        
        setTimeout(() => {
          slat.classList.remove('flip-out');
          slat.classList.add('flip-in');
        }, index * 50);
      });
      
      currentImage = newImageIndex;
      
      // æ›´æ–°æ§åˆ¶å™¨çŠ¶æ€
      blindControls.forEach(control => control.classList.remove('active'));
      document.querySelector(`[data-image="${newImageIndex}"]`).classList.add('active');
      
      // åŠ¨ç”»å®Œæˆ
      setTimeout(() => {
        isAnimating = false;
      }, numberOfSlats * 50 + 1200);
    }, numberOfSlats * 50 + 600);
  }
  
  // è‡ªåŠ¨åˆ‡æ¢
  function autoSwitchBlinds() {
    const nextImage = (currentImage % 3) + 1;
    switchBlindsImage(nextImage);
  }
  
  // åˆå§‹åŒ–ç™¾å¶çª—
  createBlindSlats();
  
  // æ§åˆ¶å™¨ç‚¹å‡»äº‹ä»¶
  blindControls.forEach(control => {
    control.addEventListener('click', () => {
      const imageIndex = parseInt(control.dataset.image);
      switchBlindsImage(imageIndex);
    });
  });
  
  // æ¯8ç§’è‡ªåŠ¨åˆ‡æ¢
  setInterval(autoSwitchBlinds, 8000);
</script>
</body>
</html>
